{% extends 'attendance_app/base.html' %}
{% load static %}
{% block content %}
<h2 class="text-xl font-semibold mb-6">ðŸ”´ Live Attendance</h2>
<ul id="liveList" class="space-y-2"></ul>

<script>
async function fetchLive() {
    const res = await fetch('/api/attendance/live/');
    const data = await res.json();
    const list = document.getElementById('liveList');
    list.innerHTML = '';
    data.forEach(item => {
        const li = document.createElement('li');
        li.textContent = `${item.member_name} at ${item.time}`;
        li.className = "bg-gray-800 p-3 rounded";
        list.appendChild(li);
    });
}
setInterval(fetchLive, 3000);
fetchLive();
</script>
{% endblock %}
